<?xml version="1.0" encoding="UTF-8"?>
<api context="/integration-api" name="integration-api" xmlns="http://ws.apache.org/ns/synapse">
    <resource methods="POST" uri-template="/enhance_and_add_to_purchased_q">
        <inSequence>
            <sequence key="service_chain_to_get_item_info_seq"/>
            <respond description="200 OK Response"/>
        </inSequence>
        <faultSequence>
        </faultSequence>
    </resource>
    <resource methods="POST" uri-template="/add_purchase">
        <inSequence>
            <sequence key="schema_validation_seq"/>
            <send>
                <endpoint>
                    <http method="post" uri-template="${$SYSTEM:BACKEND_BAL_SERVICE_URL}/addPurchase"/>
                </endpoint>
            </send>
            <respond/>
        </inSequence>
        <faultSequence>
        </faultSequence>
    </resource>
    <resource methods="GET" uri-template="/test">
        <inSequence>
            <payloadFactory media-type="json" template-type="default">
                <format>{"Test":"Success"}</format>
                <args>
                </args>
            </payloadFactory>
            <respond/>
        </inSequence>
        <faultSequence>
        </faultSequence>
    </resource>
    <resource methods="GET" uri-template="/test-be">
        <inSequence>
            <call>
                <endpoint key="GetTest"/>
            </call>
            <respond/>
        </inSequence>
        <faultSequence>
        </faultSequence>
    </resource>
</api>